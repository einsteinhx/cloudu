
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

		<title>index</title>
		<meta name="description" content="" />
		<meta name="author" content="Tiffany" />
		<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>

		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
		<link rel="stylesheet" href="static/css/base.css" />
		<link rel="stylesheet" href="static/css/button.css" />
		<link rel="stylesheet" href="static/css/switch.css" />
		<!-- Loading Flat UI -->
		<!-- <link href="css/flat-ui.css" rel="stylesheet"> -->
		<link href="static/css/index.css" rel="stylesheet">
		<script type="text/javascript" src="cloudu.js"></script>

	</head>

	<body>
		<div id="page">
			<header class="header" id="header">
				<h1>Sarahy的云联设备</h1>
				<button class="btn blue-btn open-popbox-btn" id="openPopboxBtn">
					+
				</button>
				<div class="bind-device-popbox">
					<input type="text" id="cloudIdInput" placeholder="设备云联ID(16位)"/>
					<input type="text" id="deviceNameInput" placeholder="设备名称(显示在您的设备列表里)"/>
					<div class="error"></div>
					<div class="btns">
						<span class="btn blue-btn bind-btn">绑定</span><span class="btn white-btn cancel-btn">取消</span>
					</div>
				</div>
			</header>

			<div class="device-list" id="deviceList">

			</div>

			<footer class="footer">
				<p>
					&copy; Copyright  by 含氮的脂肪
				</p>
			</footer>
		</div>
		<script type="text/javascript" src="static/js/jquery-2.0.3.min.js"></script>
		<script type="text/javascript" src="interface.js"></script>
		<script type="text/javascript" src="static/js/api.js"></script>
		<script type="text/javascript" src="static/js/ui.js"></script>
		<!-- <script type="text/javascript" src="js/util.js"></script> -->
		<script type="text/javascript" src="static/js/switch.js"></script>
		<script type="text/javascript" src="static/js/bindDevice.js"></script>
		<script type="text/javascript" src="static/js/index.js"></script>
		<script type="text/javascript">
            
            //$("[data-toggle='switch']").wrap('<div class="switch" />').parent().bootstrapSwitch();
            //$('.toggle').bootstrapSwitch();
            var deviceName = {
                "bulb" : "客厅主灯",
                "iermu" : "百度i耳目",
                "tempSensor" : "温度传感器"
            }
            var deviceSrc = {
                "bulb" : "static/images/icons/bulb.jpg",
                "iermu" : "static/images/icons/iermu.jpg",
                "tempSensor" : "static/images/icons/tempSensor.jpg"
            }
            var renderList = function() {
                var listStr = "";
                for (var i in deviceName) {
                    listStr += '<a href="' + i + '.html" class="device-item"><div class="tile">';
                    listStr += '<img alt="' + deviceName[i] + '" src="'+deviceSrc[i]+'" class="tile-image"/>';
                    listStr += '<h3 class="tile-title">' + deviceName[i] + '</h3>';
                    listStr += '</div></a>';
                    //var
                }
                $('#deviceList').html(listStr);
            }
            $(document).ready(function() {
                $(".device-item .tile").each(function(index, device) {
                    var $curDevice = $(device).parent();
                    new Switch(device, function() {
                        $curDevice.removeClass('inactive');
                        //Cloudu.switch.on();
                    }, function() {
                        $curDevice.addClass('inactive');
                        //Cloudu.switch.off();
                    });
                });
            });
            renderList();

		</script>
	</body>
</html>
